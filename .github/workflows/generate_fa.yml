name: ğŸ† Generate Next FA Round

on:
  workflow_dispatch:
    inputs:
      past_gw:
        description: 'á€•á€¼á€®á€¸á€á€½á€¬á€¸á€á€±á€¬ Gameweek (Past GW)'
        required: true
        default: '23'
      next_gw:
        description: 'á€‘á€¯á€á€ºá€™á€Šá€·á€º Gameweek (Next GW)'
        required: true
        default: '24'

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“‚ Checkout Code
        uses: actions/checkout@v3

      - name: ğŸ Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      - name: ğŸ“¦ Install Dependencies
        run: |
          pip install firebase-admin requests

      - name: ğŸš€ Run Fixture Manager
        env:
          FIREBASE_SERVICE_ACCOUNT: ${{ secrets.FIREBASE_SERVICE_ACCOUNT }}
          # Input á€€á€”á€± GW á€”á€¶á€•á€«á€á€ºá€á€½á€±á€€á€­á€¯ Python á€†á€® á€•á€­á€¯á€·á€•á€±á€¸á€á€¼á€„á€ºá€¸
          PAST_GW: ${{ github.event.inputs.past_gw }}
          NEXT_GW: ${{ github.event.inputs.next_gw }}
        run: python scripts/fixture_manager.py
